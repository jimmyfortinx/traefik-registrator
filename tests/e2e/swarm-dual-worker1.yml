services:
  whoami_worker1:
    image: traefik/whoami:v1.11.0
    labels:
      - traefik.enable=true
      - traefik.http.routers.whoami-worker1.rule=Host(`whoami-worker1.swarm.local`)
      - traefik.http.services.whoami-worker1.loadbalancer.server.port=80
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.labels.trreg_worker1 == true
